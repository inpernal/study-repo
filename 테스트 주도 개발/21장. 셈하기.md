# 21ì¥. ì…ˆí•˜ê¸°

>~~í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ í˜¸ì¶œí•˜ê¸°~~
>
>~~ë¨¼ì € setUp í˜¸ì¶œí•˜ê¸°~~
>
>~~ë‚˜ì¤‘ì— tearDown í˜¸ì¶œí•˜ê¸°~~
>
>í…ŒìŠ¤íŠ¸ ë©”ì„œë“œê°€ ì‹¤íŒ¨í•˜ë”ë¼ë„ tearDown í˜¸ì¶œí•˜ê¸°
>
>í…ŒìŠ¤íŠ¸ ì—¬ëŸ¬ ê°œ ì‹¤í–‰í•˜ê¸°
>
>**ìˆ˜ì§‘í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê¸°**
>
>~~WasRunì— ë¡œê·¸ ë¬¸ìì—´ ë‚¨ê¸°ê¸°~~



ë‚œ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê±´ ë§ê±´ tearDown()ì´ í˜¸ì¶œë˜ë„ë¡ ë³´ì¥í•´ ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ê³  í–ˆë‹¤.

í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ê°€ ì‘ë™í•˜ë„ë¡ í•˜ë ¤ë©´ ì˜ˆì™¸ë¥¼ ì¡ì•„ì•¼ í•œë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ìˆœì„œëŠ” ì¤‘ìš”í•˜ë‹¤.



ìš°ë¦° ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³´ê¸¸ ì›í•œë‹¤.

`"5ê°œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë¨, 2ê°œ ì‹¤íŒ¨, TestCaseTest.testFooBar-ZeroDivide Exception, MoneyTest.testNegation-AssertionError"`

- ê·¸ëŸ¬ë©´ í…ŒìŠ¤íŠ¸ë“¤ì´ ë”ëŠ” í˜¸í˜¸ì¶œë˜ì§€ ì•Šë“ ì§€, ê²°ê³¼ ë³´ê³ ê°€ ë©ˆì¶”ë“ ì§€ ê°„ì— ìš°ë¦¬ì—ê²ŒëŠ” ê·¸ ì—ëŸ¬ë¥¼ ì¡ì„ ê¸°íšŒê°€ ìˆë‹¤.
- ìš°ë¦¬ëŠ” TestCase.run()ì´ í…ŒìŠ¤íŠ¸ í•˜ë‚˜ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê¸°ë¡í•˜ëŠ” **TestResult ê°ì²´ë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ê²ƒì´ë‹¤.**



---

#### ğŸ“Œ TestCaseTest

```python
def testResult(self):
	test = WasRun("testMethod")
  result = test.run()
  assert("1 run, 0 failed" == result.summary())
```

#### ğŸ“Œ TestResult

```python
class TestResult:
  def summary(self):
    return "1 run, 0 failed"
```

ê·¸ë¦¬ê³  TestCase.run()ì´ TestResultë¥¼ ë°˜í™˜í•œë‹¤.

#### ğŸ“Œ TestCase

```python
def run(self):
  self.setUp()
  method = getattr(self, self.name)
  method()
  self.tearDown()
  return TestResult()
```

---

summaryì˜ êµ¬í˜„ì„ ì¡°ê¸ˆì”© ì‹¤ì²´í™” í•  ìˆ˜ ìˆë‹¤.

ë¨¼ì € í…ŒìŠ¤íŠ¸ì˜ ìˆ˜ë¥¼ ìƒìˆ˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

#### ğŸ“Œ TestResult

```python
class TestResult:
  def __init__(self):
    self.runCount = 1
  def summary(self):
    return "%d run, 0 failed" % self.runCount
```



---

í•˜ì§€ë§Œ  runCountëŠ” ìƒìˆ˜ì¼ ìˆ˜ ì—†ë‹¤.

0ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ê³  í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ë§ˆë‹¤ 1ì”© ì¦ê°€ì‹œí‚¤ê²Œ ë§Œë“ ë‹¤.

#### ğŸ“Œ TestResult

```python
class TestResult:
  def __init__(self):
    self.runCount = 0
  def testStarted(self):
    self.runCount = self.runCount + 1
  def summary(self):
    return "%d run, 0 failed" % self.runCount
```



---

ì´ì œ ì‹¤ì œë¡œ í˜¸ì¶œí•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

#### ğŸ“Œ TestCase

```python
def run(self):
  result = TestResult()
  result.testStarted()
  self.setUp()
  method = getattr(self, self.name)
  method()
  self.tearDown()
  return result
```

---

ì•„ì§ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜ë„ runCount ì²˜ëŸ¼ ë³€ìˆ˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆê² ì§€ë§Œ,

ì´ ì‘ì—…ì„ í•˜ê²Œ ë” ë§Œë“¤ì–´ì£¼ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì•„ì§ ì—†ìœ¼ë¯€ë¡œ ì‘ì„±í•œë‹¤.

#### ğŸ“Œ TestCaseTest

```python
def testFailedResult(self):
  test = WasRun("testBrokenMethod")
  result = test.run()
  assert("1 run, 1 failed" == result.summary())
```

#### ğŸ“Œ WasRun

```python
def testBrokenMethod(self):
	raise Exception
```



---

<br>

WasRun.testBrokenMethodì—ì„œ ë˜ì§„ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šì•˜ë‹¤. 

ì ì‹œ í• ì¼ ëª©ë¡ì— ë‚¨ê²¨ë‘ì~



#### ì´ë²ˆ ì¥ì—ì„œ ìš°ë¦¬ëŠ”

- ê°€ì§œ êµ¬í˜„ì„ í•œ ë’¤ì— ë‹¨ê³„ì ìœ¼ë¡œ ìƒìˆ˜ë¥¼ ë³€ìˆ˜ë¡œ ë°”ê¾¸ì–´ ì‹¤ì œ êµ¬í˜„ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤.
- ë˜ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í—€ë‹¤.
- í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ ì¢€ë” ì‘ì€ ìŠ¤ì¼€ì¼ë¡œ ë˜ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ê²Œ ë§Œë“œëŠ” ê²ƒì„ ë³´ì¡°í•  ìˆ˜ ìˆì—ˆë‹¤.
