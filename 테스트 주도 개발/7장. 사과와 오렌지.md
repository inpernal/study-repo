# 7장. 사과와 오렌지



> - . . .
> - Franc와 Dollar 비교하기

Franc와 Dollar를 비교하면 어떻게 될까?

```java
public void testEquality() {
    ...
    assertFalse(new Franc(5).equals(new Dollar(5)));
}
```

실패한다. Dollar가 Franc라는군.

동치성 코드에서는 Dollar가 Franc과 비교되지 않는지 검사해야 한다. 

두 객체의 클래스를 비교함으로써 이러한 검사를 쉽게 수행할 수 있다.

오직 금액과 클래스가 서로 동일할 때만 두 Money가 서로 같은 것이다.

```java
public boolean equals(Object object) {
    Money money = (Money) object;
    return amount == money.amount
        && getClass().equals(money.getClass());
}
```



지금까지 우리는 

- 우릴 괴롭히던 결함을 끄집어내서 테스트에 담아냈다.
- 완벽하진 않지만 그럭저럭 봐줄 만한 방법(getClass())으로 테스트를 통과하게 만들었다.
- 더 많은 동기가 있기 전에는 더 많은 설계를 도입하지 않기로 했다.